# WiFi Setup Guide - RAMS Controller v3.2

**–î–∞—Ç–∞:** 2026-02-16
**–í–µ—Ä—Å–∏—è:** 3.2 Station Mode

---

## üì° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ç–∏

```
Rams_WIFI Router (192.168.X.1)
    ‚îú‚îÄ Windows PC (192.168.X.10)
    ‚îÇ   ‚îú‚îÄ RAMS Interactive Hub App ‚Üí ESP32
    ‚îÇ   ‚îî‚îÄ Video Casting ‚Üí Smart TV
    ‚îÇ
    ‚îú‚îÄ ESP32 (192.168.X.XXX) ‚Üê –ø–æ–ª—É—á–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π IP
    ‚îÇ   ‚îî‚îÄ Serial ‚Üí Mega #1 + Mega #2 ‚Üí Actuators + LEDs
    ‚îÇ
    ‚îî‚îÄ Smart TV (192.168.X.50)
```

**–í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ = –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

---

## üîß –®–∞–≥ 1: –ü—Ä–æ—à–∏–≤–∫–∞ ESP32

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WiFi:
```cpp
#define WIFI_SSID   "Rams_WIFI"
#define WIFI_PASS   "Rams2021"
```

### –ö–∞–∫ –ø—Ä–æ—à–∏—Ç—å:

1. **–ü–æ–¥–∫–ª—é—á–∏ ESP32 –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É —á–µ—Ä–µ–∑ USB**

2. **–ù–∞–π–¥–∏ –ø–æ—Ä—Ç:**
   ```bash
   ls /dev/cu.* | grep usb
   ```

3. **–ü—Ä–æ—à–µ–π ESP32:**
   ```bash
   cd /Users/nurdauletakhmatov/Desktop/rams-screen/rams-interactive-hub/firmware/esp32/rams_controller_v3

   arduino-cli upload -p /dev/cu.XXXXX --fqbn esp32:esp32:esp32 .
   ```
   (–ó–∞–º–µ–Ω–∏ `/dev/cu.XXXXX` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç)

4. **–û—Ç–∫—Ä–æ–π Serial Monitor:**
   ```bash
   arduino-cli monitor -p /dev/cu.XXXXX -c baudrate=115200
   ```

---

## üìù –®–∞–≥ 2: –£–∑–Ω–∞–π IP –∞–¥—Ä–µ—Å ESP32

–ü–æ—Å–ª–µ –ø—Ä–æ—à–∏–≤–∫–∏ ESP32 –ø–æ–∫–∞–∂–µ—Ç –≤ Serial Monitor:

```
[WIFI] Connecting to Rams_WIFI...
..........
[WIFI] ‚úÖ Connected to Rams_WIFI!
[WIFI] IP Address: 192.168.X.XXX  ‚¨ÖÔ∏è –ó–ê–ü–ò–®–ò –≠–¢–û–¢ IP!
[WIFI] Gateway: 192.168.X.1
[WIFI] Signal: -45 dBm
```

**–ó–∞–ø–∏—à–∏ IP –∞–¥—Ä–µ—Å!** –ù–∞–ø—Ä–∏–º–µ—Ä: `192.168.1.100`

---

## ‚öôÔ∏è –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ .env.local (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª:
```
rams-interactive-hub/.env.local
```

–ó–∞–º–µ–Ω–∏ IP –Ω–∞ —Ç–æ—Ç –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑–∞–ª ESP32:
```env
NEXT_PUBLIC_ESP32_HOST=192.168.1.100  ‚¨ÖÔ∏è –í–û–¢ –°–Æ–î–ê
NEXT_PUBLIC_ESP32_PORT=80
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ –≤ –∫–æ–¥–µ

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª:
```
rams-interactive-hub/lib/esp32-client.ts
```

–ù–∞–π–¥–∏ —Ñ—É–Ω–∫—Ü–∏—é `createLocalESP32Client()` –∏ –∑–∞–º–µ–Ω–∏:
```typescript
return new ESP32Client({
  host: "192.168.1.100",  // ‚¨ÖÔ∏è –¢–≤–æ–π IP
  port: 80,
  timeout: 5000,
});
```

---

## üöÄ –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
cd /Users/nurdauletakhmatov/Desktop/rams-screen/rams-interactive-hub/rams-interactive-hub

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (Ctrl+C –µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ)
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
npm run dev
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
[ESP32Client] Creating client for 192.168.1.100:80
[ProjectSync] Starting auto-connect to ESP32...
[ProjectSync] Pinging ESP32 at 192.168.1.100...
[ProjectSync] Connection status changed: ‚úÖ ONLINE
```

### 2. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –ø—Ä–æ–µ–∫—Ç –≤ –≥–∞–ª–µ—Ä–µ–µ

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
[App] ========== PROJECT SELECT ==========
[ProjectSync] ============ ACTIVATION START ============
[ProjectSync] ESP32 Connected: true
[ProjectSync] Blocks to activate: [1, 2]
[ESP32Client] POST http://192.168.1.100/api/block?num=1&action=UP&duration=8000
[ESP32Client] ‚úÖ Block 1 UP success
```

### 3. –ü—Ä–æ–≤–µ—Ä—å –∞–∫—Ç—É–∞—Ç–æ—Ä—ã –∏ LED

–î–æ–ª–∂–Ω—ã –ø–æ–¥–Ω—è—Ç—å—Å—è –∞–∫—Ç—É–∞—Ç–æ—Ä—ã –∏ –∑–∞–≥–æ—Ä–µ—Ç—å—Å—è LED!

---

## üîß –ò–∑–º–µ–Ω–∏—Ç—å WiFi –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å ESP32 –∫ –¥—Ä—É–≥–æ–º—É WiFi:

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª:
   ```
   firmware/esp32/rams_controller_v3/rams_controller_v3.ino
   ```

2. –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫–∏:
   ```cpp
   #define WIFI_SSID   "Rams_WIFI"
   #define WIFI_PASS   "Rams2021"
   ```

3. –ó–∞–º–µ–Ω–∏ –Ω–∞ –Ω–æ–≤—ã–µ:
   ```cpp
   #define WIFI_SSID   "–ù–æ–≤–æ–µ_–ò–º—è_WiFi"
   #define WIFI_PASS   "–ù–æ–≤—ã–π_–ü–∞—Ä–æ–ª—å"
   ```

4. –ü—Ä–æ—à–µ–π ESP32 –∑–∞–Ω–æ–≤–æ (—Å–º. –®–∞–≥ 1)

---

## üõ°Ô∏è –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ä–µ–∂–∏–º (AP Mode)

–ï—Å–ª–∏ ESP32 –ù–ï —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `Rams_WIFI`, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å–≤–æ—é —Å–µ—Ç—å:

```
SSID: RAMS_Controller
Password: rams2026
IP: 192.168.4.1
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ:
- Windows –¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `RAMS_Controller`
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ù–û –≤–∏–¥–µ–æ –Ω–∞ TV —Ä–∞–±–æ—Ç–∞—Ç—å –ù–ï –±—É–¥–µ—Ç (–Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)

---

## üêõ Troubleshooting

### ESP32 –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Rams_WIFI

**–ü—Ä–æ–≤–µ—Ä—å:**
1. WiFi —Ä–æ—É—Ç–µ—Ä –≤–∫–ª—é—á–µ–Ω
2. SSID –∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. ESP32 –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∑–æ–Ω–µ –ø–æ–∫—Ä—ã—Ç–∏—è WiFi
4. –†–æ—É—Ç–µ—Ä –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (MAC —Ñ–∏–ª—å—Ç—Ä)

**–õ–æ–≥–∏ –≤ Serial Monitor:**
```
[WIFI] Connecting to Rams_WIFI...
....................
[WIFI] ‚ùå Failed to connect to Rams_WIFI
[WIFI] Starting AP Mode (backup)...
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –≤–∏–¥–∏—Ç ESP32

**–ü—Ä–æ–≤–µ—Ä—å:**
1. Windows –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ **Rams_WIFI** (–Ω–µ –∫ RAMS_Controller!)
2. IP –∞–¥—Ä–µ—Å –≤ `.env.local` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. ESP32 –≤–∫–ª—é—á–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ WiFi
4. Ping ESP32 –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
   ```bash
   ping 192.168.1.100
   ```

### –í–∏–¥–µ–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ TV

**–ü—Ä–æ–≤–µ—Ä—å:**
1. Windows –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ **Rams_WIFI**
2. TV –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ **Rams_WIFI**
3. Chromecast/AirPlay –Ω–∞—Å—Ç—Ä–æ–µ–Ω
4. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å RAMS_Controller AP Mode

---

## üìä –°—Ç–∞—Ç—É—Å –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–í –≥–∞–ª–µ—Ä–µ–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ESP32:

- üü¢ **Online** - ESP32 –ø–æ–¥–∫–ª—é—á–µ–Ω, –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- üî¥ **Offline** - ESP32 –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- üü° **Warning** - –°–ª–∞–±–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è:
- ‚úÖ Windows –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Rams_WIFI (–∏–Ω—Ç–µ—Ä–Ω–µ—Ç –µ—Å—Ç—å)
- ‚úÖ ESP32 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Rams_WIFI (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏)
- ‚úÖ TV –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Rams_WIFI (–≤–∏–¥–µ–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ –í—Å—ë –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏!
