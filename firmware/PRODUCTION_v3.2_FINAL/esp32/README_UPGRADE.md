# ESP32 Firmware v3.2 - Upgrade Guide

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏

### ‚úÖ –ù–û–í–´–ï –§–ò–ß–ò:
1. **8 LED —ç—Ñ—Ñ–µ–∫—Ç–æ–≤** - Rainbow, Pulse, Chase, Sparkle, Wave, Fire, Meteor
2. **–ü–ª–∞–≤–Ω–æ–µ —É–≥–∞—Å–∞–Ω–∏–µ LED** - LED –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ç—É—Å–∫–Ω–µ–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –æ–ø—É—Å–∫–∞–Ω–∏–µ–º –∞–∫—Ç—É–∞—Ç–æ—Ä–∞ (–≤–º–µ—Å—Ç–æ —Ä–µ–∑–∫–æ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è)
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç—å—é** - —á–µ—Ä–µ–∑ API `/api/bri` (0-255)
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é** - —á–µ—Ä–µ–∑ API `/api/spd` (0-255)

### üîß –ö–ê–ö –ü–†–û–®–ò–¢–¨ ESP32

#### –ß–µ—Ä–µ–∑ Arduino IDE:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Arduino IDE 2.x**

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞—Ç—É ESP32:
   - Tools ‚Üí Board Manager ‚Üí –ø–æ–∏—Å–∫ "ESP32"
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ "esp32 by Espressif Systems"

3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç—É:
   - Tools ‚Üí Board ‚Üí ESP32 Arduino ‚Üí "ESP32 Dev Module"

4. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Ä—Ç:
   - Tools ‚Üí Port ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `/dev/cu.usbserial-xxxx`
   - (–ù–∞ Windows: `COMxx`)

5. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:
   - File ‚Üí Open ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `rams_controller_v3.ino`

6. –û—Ç–∫—Ä–æ–π—Ç–µ **–≤—Å–µ TAB-—ã** (ACTUATOR_CONFIG.h –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç!)

7. –ù–∞–∂–º–∏—Ç–µ **Upload** (‚Üí —Å—Ç—Ä–µ–ª–∫–∞)

8. –î–æ–∂–¥–∏—Ç–µ—Å—å –Ω–∞–¥–ø–∏—Å–∏:
   ```
   Hard resetting via RTS pin...
   ```

9. –û—Ç–∫—Ä–æ–π—Ç–µ Serial Monitor (Tools ‚Üí Serial Monitor):
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å: **115200 baud**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥:
     ```
     ========================================
       RAMS CONTROLLER v3.2 PRODUCTION
       Actuators + LED Zones + Power Control
       DroneControl Style
     ========================================
     [LED] 10 strips initialized
     [WIFI] Connected to Rams_WIFI!
     [READY] System initialized!
     ```

### üì° API ENDPOINTS

```bash
# –ü–æ–¥–Ω—è—Ç—å –±–ª–æ–∫ 1 –Ω–∞ 5 —Å–µ–∫—É–Ω–¥
POST /api/block?num=1&action=UP&duration=5000

# –û–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫ 1 (—Å –ø–ª–∞–≤–Ω—ã–º fade LED)
POST /api/block?num=1&action=DOWN&duration=5000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –±–ª–æ–∫–∏
POST /api/stop

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç LED (RGB)
POST /api/color?r=255&g=100&b=0

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —è—Ä–∫–æ—Å—Ç—å LED (0-255)
POST /api/bri?v=200

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç (0=Static, 2=Rainbow, ...)
POST /api/effect?id=2&speed=128

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞ (0-255)
POST /api/spd?v=150
```

### üåà LED –≠–§–§–ï–ö–¢–´

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ  | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|----|-----------|----------------------------------|
| 0  | Static    | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ü–≤–µ—Ç                 |
| 1  | Pulse     | –ü—É–ª—å—Å–∞—Ü–∏—è (breathing)            |
| 2  | Rainbow   | –†–∞–¥—É–≥–∞ (—Ü–∏–∫–ª HSV)                |
| 3  | Chase     | –ë–µ–≥—É—â–∞—è —Ç–æ—á–∫–∞ —Å —Ö–≤–æ—Å—Ç–æ–º          |
| 4  | Sparkle   | –ò—Å–∫—Ä—ã (—Å–ª—É—á–∞–π–Ω—ã–µ –≤—Å–ø—ã—à–∫–∏)        |
| 5  | Wave      | –í–æ–ª–Ω–∞ (—Å–∏–Ω—É—Å–æ–∏–¥–∞)                |
| 6  | Fire      | –û–≥–æ–Ω—å (heat simulation)          |
| 7  | Meteor    | –ú–µ—Ç–µ–æ—Ä (–ø–∞–¥–∞—é—â–∞—è –∑–≤–µ–∑–¥–∞)         |

### üé® –ü–õ–ê–í–ù–û–ï –£–ì–ê–°–ê–ù–ò–ï

–ü—Ä–∏ –∫–æ–º–∞–Ω–¥–µ **DOWN** –∞–∫—Ç—É–∞—Ç–æ—Ä –æ–ø—É—Å–∫–∞–µ—Ç—Å—è, –∏ LED **–ø–ª–∞–≤–Ω–æ —Ç—É—Å–∫–Ω–µ–µ—Ç** –∑–∞ —Ç–æ –∂–µ –≤—Ä–µ–º—è:

```
t=0:      LED 100% —è—Ä–∫–æ—Å—Ç—å | –ê–∫—Ç—É–∞—Ç–æ—Ä –≤–≤–µ—Ä—Ö—É
t=2.5s:   LED 50% —è—Ä–∫–æ—Å—Ç—å  | –ê–∫—Ç—É–∞—Ç–æ—Ä –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ
t=5s:     LED 0% (–≤—ã–∫–ª)    | –ê–∫—Ç—É–∞—Ç–æ—Ä –≤–Ω–∏–∑—É
```

–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç **–ø–ª–∞–≤–Ω–æ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ** ‚ú®

---

**–§–∞–π–ª:** `rams_controller_v3.ino`
**–í–µ—Ä—Å–∏—è:** 3.2 (Production —Å LED —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ + Fade)
**–î–∞—Ç–∞:** 2026-02-16
**–ê–≤—Ç–æ—Ä:** RAMS Global Team
