# RAMS Interactive Hub — Инструкция по развертыванию

## 1. Получение сборки

### Вариант A: Скачать с GitHub Actions

1. Перейти в репозиторий: `github.com/nurdamiron/rams-interactive-hub`
2. Открыть вкладку **Actions**
3. Выбрать последний успешный запуск **Build Electron App**
4. В разделе **Artifacts** скачать:
   - `RAMS-Interactive-Hub-Windows` — для Windows
   - `RAMS-Interactive-Hub-macOS` — для macOS

### Вариант B: Собрать локально

```bash
# Установить зависимости
npm ci

# Собрать для Windows
npm run electron:build:win

# Собрать для macOS
npm run electron:build:mac

# Собрать для обеих платформ
npm run electron:build:all
```

Результат сборки будет в папке `dist/`.

---

## 2. Структура медиа-файлов

Медиа-файлы **не включены** в сборку из-за большого размера (~4 ГБ). Их нужно добавить вручную.

### Требуемая структура

```
projects/
├── 09-rams-garden-almaty/
│   ├── images/
│   │   ├── logo/
│   │   │   └── logo.svg          # Логотип проекта (SVG или PNG)
│   │   ├── main.jpg              # Главное изображение проекта
│   │   └── scenes/               # Фотографии для слайдшоу
│   │       ├── 01.jpg
│   │       ├── 02.jpg
│   │       ├── 03.jpg
│   │       └── ...
│   └── videos/
│       └── main.mp4              # Видео проекта (опционально)
│
├── 11-rams-signature/
│   ├── images/
│   │   ├── logo/
│   │   │   └── logo.svg
│   │   ├── main.jpg
│   │   └── scenes/
│   │       ├── 01.jpg
│   │       └── ...
│   └── videos/
│       └── main.mp4
│
├── 12-rams-central-2/
│   └── ... (аналогичная структура)
│
├── 14-rams-kazyna/
│   └── ...
│
└── ... (остальные проекты)
```

### Поддерживаемые форматы

| Тип        | Форматы                    |
|------------|----------------------------|
| Изображения | `.jpg`, `.jpeg`, `.png`, `.webp` |
| Логотипы    | `.svg`, `.png`             |
| Видео       | `.mp4`, `.webm`, `.mov`    |

### ID проектов

Название папки проекта должно совпадать с `id` в конфигурации:

| ID                        | Проект                |
|---------------------------|-----------------------|
| `09-rams-garden-almaty`   | RAMS Garden Almaty    |
| `11-rams-signature`       | RAMS Signature        |
| `12-rams-central-2`       | RAMS Central 2        |
| `14-rams-kazyna`          | RAMS Kazyna           |
| `15-rams-qazyna`          | RAMS Qazyna           |
| `16-rams-riverside`       | RAMS Riverside        |
| `17-rams-business-centre` | RAMS Business Centre  |

---

## 3. Установка на Windows

### Шаг 1: Распаковать сборку

Распаковать `RAMS-Interactive-Hub-win-x64.zip` в любую папку, например:
```
C:\RAMS\
```

### Шаг 2: Добавить медиа-файлы

Скопировать папку `projects/` в:
```
C:\RAMS\resources\media\projects\
```

Итоговый путь до файлов должен выглядеть так:
```
C:\RAMS\
├── RAMS Interactive Hub.exe
├── resources\
│   ├── app.asar
│   └── media\
│       └── projects\
│           ├── 09-rams-garden-almaty\
│           │   ├── images\
│           │   └── videos\
│           ├── 11-rams-signature\
│           └── ...
└── ... (остальные файлы)
```

### Шаг 3: Запустить

Двойной клик по `RAMS Interactive Hub.exe`.

Приложение запустится в полноэкранном режиме (киоск-мод).

---

## 4. Установка на macOS

### Шаг 1: Установить приложение

Открыть `RAMS-Interactive-Hub-*.dmg` и перетащить приложение в `Applications`.

### Шаг 2: Добавить медиа-файлы

Скопировать папку `projects/` в:
```
/Applications/RAMS Interactive Hub.app/Contents/Resources/media/projects/
```

Для доступа к содержимому `.app`:
1. Правый клик на `RAMS Interactive Hub.app`
2. Выбрать **«Показать содержимое пакета»** (Show Package Contents)
3. Перейти в `Contents/Resources/media/`
4. Скопировать папку `projects/` сюда

### Шаг 3: Запустить

Открыть `RAMS Interactive Hub` из Applications.

---

## 5. Горячие клавиши

| Клавиша              | Действие                     |
|----------------------|------------------------------|
| `Ctrl+Q` / `Cmd+Q`  | Выход из приложения          |
| `Ctrl+Shift+A` / `Cmd+Shift+A` | Панель администратора |
| `F5`                 | Перезагрузить страницу       |

---

## 6. Панель администратора

Вызывается через `Ctrl+Shift+A` (или `Cmd+Shift+A` на macOS).

### Вкладка «Проекты»
- Включение/выключение видимости проектов на экране

### Вкладка «Диагностика»
- Показывает все пути, где приложение ищет медиа-файлы
- Статус каждого пути (найден / не найден)
- Список обнаруженных проектов

Используйте диагностику, если медиа-файлы не отображаются.

---

## 7. Автозапуск (киоск-режим)

### Windows

1. Нажать `Win+R`, ввести `shell:startup`
2. Создать ярлык на `RAMS Interactive Hub.exe` в открывшейся папке

### macOS

1. Открыть **Системные настройки** → **Основные** → **Объекты входа**
2. Добавить `RAMS Interactive Hub`

---

## 8. Скринсейвер

Приложение имеет встроенный скринсейвер. При отсутствии активности в течение **5 минут** экран переходит в режим заставки. Любое касание или движение мыши возвращает к основному экрану.

Рекомендуется **отключить системный скринсейвер и спящий режим** на устройстве.

---

## 9. Устранение неполадок

### Медиа не отображается
1. Откройте панель администратора (`Ctrl+Shift+A`)
2. Перейдите на вкладку **«Диагностика»**
3. Убедитесь, что один из путей имеет статус «найден»
4. Проверьте структуру папок (должна быть `media/projects/[id]/images/...`)

### Белый экран при запуске
- Убедитесь, что папка `resources/app.asar` существует
- Проверьте лог-файл: `%APPDATA%/rams-interactive-hub/rams-app.log` (Windows) или `~/Library/Application Support/rams-interactive-hub/rams-app.log` (macOS)

### Приложение не запускается на macOS
- Правый клик → «Открыть» (обход Gatekeeper)
- Или: Системные настройки → Конфиденциальность → разрешить приложение

---

## 10. Обновление медиа-файлов

Для обновления медиа (добавление новых фото, видео, проектов):

1. Закрыть приложение (`Ctrl+Q`)
2. Заменить/добавить файлы в папке `resources/media/projects/`
3. Запустить приложение заново

Обновление кода приложения не требуется — медиа загружается динамически.
