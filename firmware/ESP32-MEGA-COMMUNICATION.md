# üì° ESP32 ‚Üî Arduino Mega Communication

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Next.js Application                  ‚îÇ
‚îÇ         (Touch Screen UI)                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ WiFi HTTP
                 ‚îÇ POST /command
                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              ESP32                           ‚îÇ
‚îÇ      Master Controller v1.0                  ‚îÇ
‚îÇ  ‚Ä¢ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç HTTP –∫–æ–º–∞–Ω–¥—ã –æ—Ç Next.js         ‚îÇ
‚îÇ  ‚Ä¢ –£–ø—Ä–∞–≤–ª—è–µ—Ç LED WS2812B                     ‚îÇ
‚îÇ  ‚Ä¢ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –Ω–∞ Mega —á–µ—Ä–µ–∑ Serial   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ Serial UART (115200 baud)
             ‚îÇ GPIO16(RX) ‚Üê TX1 Mega
             ‚îÇ GPIO17(TX) ‚Üí RX1 Mega
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Arduino Mega #1                      ‚îÇ
‚îÇ    Actuator Controller v1.0                  ‚îÇ
‚îÇ  ‚Ä¢ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ Serial1      ‚îÇ
‚îÇ  ‚Ä¢ –£–ø—Ä–∞–≤–ª—è–µ—Ç 8 –±–ª–æ–∫–∞–º–∏ (16 –∞–∫—Ç—É–∞—Ç–æ—Ä–æ–≤)      ‚îÇ
‚îÇ  ‚Ä¢ –ê–≤—Ç–æ–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ —Ç–∞–π–º–µ—Ä—É                  ‚îÇ
‚îÇ  ‚Ä¢ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ESP32           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –°—Ö–µ–º–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

```
ESP32                    Arduino Mega
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
GPIO 17 (TX2) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ RX1 (Pin 19)
GPIO 16 (RX2) ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ TX1 (Pin 18)
GND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GND
```

**–í–ê–ñ–ù–û:**
- –û–±—â–∞—è –∑–µ–º–ª—è (GND) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!
- ESP32 —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 3.3V, Mega –Ω–∞ 5V
- –û–±—ã—á–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å level shifter

---

## üìã –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–≤—è–∑–∏

### –§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã (ESP32 ‚Üí Mega)

```json
{
  "block": 1,           // –ù–æ–º–µ—Ä –±–ª–æ–∫–∞ (1-8), 0 = –≤—Å–µ –±–ª–æ–∫–∏
  "action": "up",       // –î–µ–π—Å—Ç–≤–∏–µ: "up", "down", "stop"
  "duration": 12000     // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è (–º—Å)
}
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (Mega ‚Üí ESP32)

```json
{
  "status": "ok",       // –°—Ç–∞—Ç—É—Å: "ok", "error", "stopped"
  "block": 1,           // –ù–æ–º–µ—Ä –±–ª–æ–∫–∞
  "action": "up",       // –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
  "message": "..."      // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø—Ä–∏ –æ—à–∏–±–∫–µ)
}
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. Frontend ‚Üí ESP32 (WiFi HTTP)

```typescript
// –í Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
import { hardwareService } from '@/lib/hardware-service';

// –ü–æ–¥–Ω—è—Ç—å –±–ª–æ–∫ #1 –Ω–∞ 12 —Å–µ–∫—É–Ω–¥
await hardwareService.sendCommand({
  action: 'actuator',
  target: 'block_1',
  state: 'up',
  data: {
    duration: 12000
  }
});

// –û–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫ #3 –Ω–∞ 10 —Å–µ–∫—É–Ω–¥
await hardwareService.sendCommand({
  action: 'actuator',
  target: 'block_3',
  state: 'down',
  data: {
    duration: 10000
  }
});

// –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–ª–æ–∫ #5
await hardwareService.sendCommand({
  action: 'actuator',
  target: 'block_5',
  state: 'stop'
});

// –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –í–°–ï –±–ª–æ–∫–∏
await hardwareService.sendCommand({
  action: 'actuator',
  target: 'block_0',
  state: 'stop'
});
```

### 2. ESP32 ‚Üí Arduino Mega (Serial)

```cpp
// –í ESP32 –∫–æ–¥–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ executeCommand)
// –ü–æ–¥–Ω—è—Ç—å –±–ª–æ–∫ #1
sendToMega(1, "up", 12000);

// –û–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫ #3
sendToMega(3, "down", 12000);

// –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–ª–æ–∫ #5
sendToMega(5, "stop", 0);

// –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –±–ª–æ–∫–∏
sendToMega(0, "stop", 0);
```

### 3. –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ Mega (—á–µ—Ä–µ–∑ Serial Monitor)

```json
{"block":1,"action":"up","duration":12000}
{"block":2,"action":"down","duration":10000}
{"block":5,"action":"stop"}
{"block":0,"action":"stop"}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—à–∏–≤–æ–∫

#### Arduino Mega
```bash
cd /Users/nurdauletakhmatov/Desktop/rams-screen/rams-interactive-hub/firmware/arduino_mega/actuator_test
# –û—Ç–∫—Ä—ã—Ç—å actuator_test.ino –≤ Arduino IDE
# –í—ã–±—Ä–∞—Ç—å: Tools ‚Üí Board ‚Üí Arduino Mega
# –í—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π COM –ø–æ—Ä—Ç
# Upload (Ctrl+U)
```

#### ESP32
```bash
cd /Users/nurdauletakhmatov/Desktop/rams-screen/rams-interactive-hub/firmware/esp32/rams_controller
# –û—Ç–∫—Ä—ã—Ç—å rams_controller.ino –≤ Arduino IDE
# –í—ã–±—Ä–∞—Ç—å: Tools ‚Üí Board ‚Üí ESP32 Dev Module
# Upload
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ Serial —Å–≤—è–∑–∏

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å USB –∫ Mega** ‚Üí –û—Ç–∫—Ä—ã—Ç—å Serial Monitor (115200 baud)
   ```
   [READY] Waiting for commands from ESP32...
   ```

2. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É** —á–µ—Ä–µ–∑ Serial Monitor:
   ```json
   {"block":1,"action":"up","duration":5000}
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–≤–æ–¥:**
   ```
   [CMD] Received: {"block":1,"action":"up","duration":5000}
   [BLOCK 1] ‚Üí UP (5000ms)
   ```

4. **–ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥:**
   ```
   [AUTO-STOP] Block 1
   ```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ ESP32 ‚Üí Mega

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å ESP32 –∫ WiFi**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å IP: `http://192.168.1.100/status`

2. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ WiFi:**
   ```bash
   curl -X POST http://192.168.1.100/command \
     -H "Content-Type: application/json" \
     -d '{
       "action": "actuator",
       "target": "block_1",
       "state": "up",
       "data": {"duration": 5000}
     }'
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ ESP32** (Serial Monitor):
   ```
   [CMD] Action: actuator | Target: block_1
   [MEGA] Sent: {"block":1,"action":"up","duration":5000}
   [MEGA] Response: {"status":"ok","block":1,"action":"up"}
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Mega**:
   ```
   [CMD] Received: {"block":1,"action":"up","duration":5000}
   [BLOCK 1] ‚Üí UP (5000ms)
   [AUTO-STOP] Block 1
   ```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```typescript
// –í –ª—é–±–æ–º React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const handleBlockUp = async () => {
  const result = await hardwareService.sendCommand({
    action: 'actuator',
    target: 'block_1',
    state: 'up',
    data: { duration: 12000 }
  });

  console.log('Result:', result);
};
```

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Mega –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç ESP32

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   - ESP32 TX (GPIO17) ‚Üí Mega RX1 (Pin 19)
   - ESP32 RX (GPIO16) ‚Üí Mega TX1 (Pin 18)
   - –û–±—â–∞—è –∑–µ–º–ª—è (GND)

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Serial Monitor Mega:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ `[INIT] Serial1 ready for ESP32 commands`

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å ESP32 Serial Monitor:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ `[SETUP] Mega serial initialized on GPIO16(RX)/GPIO17(TX) ‚úì`

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å baud rate:**
   - –û–±–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 115200

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–∫—Ç—É–∞—Ç–æ—Ä—ã –Ω–µ –¥–≤–∏–≥–∞—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∏–Ω—ã –≤ Arduino Mega:**
   - –ë–ª–æ–∫ 1: –ø–∏–Ω—ã 22, 23, 24, 25
   - –ë–ª–æ–∫ 2: –ø–∏–Ω—ã 26, 27, 28, 29
   - –∏ —Ç.–¥.

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É:**
   - –ò–ù–í–ï–†–°–ù–ê–Ø –õ–û–ì–ò–ö–ê: LOW = –≤–∫–ª—é—á–µ–Ω–æ, HIGH = –≤—ã–∫–ª—é—á–µ–Ω–æ

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ:**
   - –ê–∫—Ç—É–∞—Ç–æ—Ä—ã —Ç—Ä–µ–±—É—é—Ç 12V
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –∞–º–ø–µ—Ä?

### –ü—Ä–æ–±–ª–µ–º–∞: ESP32 –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å WiFi —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   ```bash
   curl http://192.168.1.100/ping
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç target:**
   - –î–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `block_` (–Ω–∞–ø—Ä–∏–º–µ—Ä `block_1`, `block_3`)

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Serial Monitor ESP32:**
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è `[MEGA] Sent: ...`

---

## üìä –ú–∞–ø–ø–∏–Ω–≥ –±–ª–æ–∫–æ–≤ –Ω–∞ –ø–∏–Ω—ã

| –ë–ª–æ–∫ | –ê–∫—Ç—É–∞—Ç–æ—Ä—ã | Pin 1 | Pin 2 | Pin 3 | Pin 4 |
|------|-----------|-------|-------|-------|-------|
| 1    | 2 —à—Ç      | 22    | 23    | 24    | 25    |
| 2    | 2 —à—Ç      | 26    | 27    | 28    | 29    |
| 3    | 2 —à—Ç      | 30    | 31    | 32    | 33    |
| 4    | 2 —à—Ç      | 34    | 35    | 36    | 37    |
| 5    | 2 —à—Ç      | 38    | 39    | 40    | 41    |
| 6    | 2 —à—Ç      | 50    | 51    | 52    | 53    |
| 7    | 2 —à—Ç      | 42    | 43    | 44    | 45    |
| 8    | 2 —à—Ç      | 46    | 47    | 48    | 49    |

**–õ–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–¥–Ω–∏–º –±–ª–æ–∫–æ–º:**
- Pin 1 (LOW) + Pin 2 (HIGH) = –ê–∫—Ç—É–∞—Ç–æ—Ä 1 –í–í–ï–†–•
- Pin 1 (HIGH) + Pin 2 (LOW) = –ê–∫—Ç—É–∞—Ç–æ—Ä 1 –í–ù–ò–ó
- Pin 3 (LOW) + Pin 4 (HIGH) = –ê–∫—Ç—É–∞—Ç–æ—Ä 2 –í–í–ï–†–•
- Pin 3 (HIGH) + Pin 4 (LOW) = –ê–∫—Ç—É–∞—Ç–æ—Ä 2 –í–ù–ò–ó
- –í—Å–µ HIGH = –°–¢–û–ü

---

## üöÄ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ß–µ—Ä–µ–∑ curl (WiFi)

```bash
# –ü–æ–¥–Ω—è—Ç—å –±–ª–æ–∫ 1 –Ω–∞ 12 —Å–µ–∫—É–Ω–¥
curl -X POST http://192.168.1.100/command \
  -H "Content-Type: application/json" \
  -d '{"action":"actuator","target":"block_1","state":"up","data":{"duration":12000}}'

# –û–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫ 3 –Ω–∞ 10 —Å–µ–∫—É–Ω–¥
curl -X POST http://192.168.1.100/command \
  -H "Content-Type: application/json" \
  -d '{"action":"actuator","target":"block_3","state":"down","data":{"duration":10000}}'

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–ª–æ–∫ 5
curl -X POST http://192.168.1.100/command \
  -H "Content-Type: application/json" \
  -d '{"action":"actuator","target":"block_5","state":"stop"}'

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –í–°–ï –±–ª–æ–∫–∏
curl -X POST http://192.168.1.100/command \
  -H "Content-Type: application/json" \
  -d '{"action":"actuator","target":"block_0","state":"stop"}'
```

### –ß–µ—Ä–µ–∑ Serial Monitor Mega

```json
{"block":1,"action":"up","duration":12000}
{"block":2,"action":"down","duration":10000}
{"block":3,"action":"up","duration":8000}
{"block":0,"action":"stop"}
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ê–≤—Ç–æ–æ—Å—Ç–∞–Ω–æ–≤–∫–∞**: Mega –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –∞–∫—Ç—É–∞—Ç–æ—Ä—ã –ø–æ—Å–ª–µ `duration` –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ï—Å–ª–∏ —Å–≤—è–∑—å –ø–æ—Ç–µ—Ä—è–Ω–∞, Mega –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –∞–∫—Ç—É–∞—Ç–æ—Ä—ã –ø–æ —Ç–∞–π–º–µ—Ä—É
3. **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è**: –ú–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–ª–æ–∫–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ Serial Monitor –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä—è–º—É—é —Å–≤—è–∑—å Mega** (—á–µ—Ä–µ–∑ Serial Monitor)
2. ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ESP32 ‚Üí Mega** (—á–µ—Ä–µ–∑ WiFi curl)
3. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Next.js UI** (–∫–Ω–æ–ø–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∞–º–∏)
4. ‚è≥ **–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –±–ª–æ–∫–æ–≤)
5. ‚è≥ **–î–æ–±–∞–≤–∏—Ç—å –¥–∞—Ç—á–∏–∫–∏** (–∫–æ–Ω—Ü–µ–≤—ã–µ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏ –¥–ª—è –∞–∫—Ç—É–∞—Ç–æ—Ä–æ–≤)

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞:** 2026-02-08
**–í–µ—Ä—Å–∏—è:** 1.0
**–ê–≤—Ç–æ—Ä:** RAMS Global Team
